datasource db {
    provider = "postgresql"
}

generator client {
    provider = "prisma-client-js"
}

model User {
    id    String   @id @default(uuid())
    email String   @unique
    password String
    createdAt DateTime @default(now())

    jobs Job[]
}

model Job {
    id  String  @id @default(uuid())

    companyName String
    jobTitle    String
    location    String?
    description String?
    jobUrl      String
    platform    JobPlatform

    status      JobStatus @default(APPLIED)
    appliedAt   DateTime

    userId      String
    user        User    @relation(fields: [userId], references: [id])

    createdAt   DateTime    @default(now())
    updatedAt   DateTime    @updatedAt

    @@index([userId])
    @@unique([userId, jobUrl])
}

enum JobStatus {
    APPLIED
    INTERVIEW
    OFFER
    REJECTED
}

enum JobPlatform {
    LINKEDIN
    NAUKRI
    INTERNSHALA
}